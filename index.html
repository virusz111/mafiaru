<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>MafiaRussian</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background: url('background.png') no-repeat center center fixed;
    background-size: cover;
    color:#eee;
}

/* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
#login{
    position:fixed;
    inset:0;
    background:#0a0a0a;
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:9999;
    transition:opacity .6s;
}
.login-box{
    background:#140022;
    border:1px solid #7a2cff;
    border-radius:20px;
    padding:30px;
    width:280px;
    text-align:center;
    box-shadow:0 0 25px #3a0070;
}
.login-box input{
    width:100%;
    margin:8px 0;
    padding:10px;
    border-radius:12px;
    border:none;
    outline:none;
}
.login-box button{
    margin-top:12px;
    padding:12px;
    width:100%;
    border:none;
    border-radius:15px;
    background:#7a2cff;
    color:#fff;
    cursor:pointer;
}
#error{
    color:#ff5c5c;
    display:none;
    margin-top:8px;
}

/* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
header{
    display:none;
    position:fixed;
    top:20px;
    right:20px;
    z-index:999;
}
header button{
    background:#7a2cff;
    color:#fff;
    border:none;
    font-size:1.8em;
    padding:10px 14px;
    border-radius:10px;
    cursor:pointer;
}

/* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
#menu{
    display:none;
    position:fixed;
    top:80px;
    right:20px;
    background:#12001f;
    padding:12px;
    border-radius:15px;
    box-shadow:0 0 20px #3a0070;
    z-index:998;
}
#menu button{
    display:block;
    width:100%;
    margin:6px 0;
    padding:10px;
    border:none;
    border-radius:12px;
    background:#7a2cff;
    color:#fff;
    cursor:pointer;
}

/* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ */
#content{
    display:none;
    padding:100px 15px 20px;
}
.cards{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:15px;
}
.card{
    background:linear-gradient(135deg,rgba(122,44,255,.35),rgba(20,0,34,.8));
    border:1px solid #7a2cff;
    border-radius:18px;
    padding:20px;
    text-align:center;
    display:none;
}
.big{
    grid-column:1/-1;
}
.welcome{
    text-shadow:0 0 10px rgba(122,44,255,.8);
}
.welcome-title{
    font-size:1.6em;
    margin-bottom:10px;
}
.welcome-name{
    color:#caa6ff;
    font-weight:bold;
}
.welcome-motto{
    margin-top:12px;
    font-size:1.1em;
    opacity:.9;
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒØ§Ø±Ø¯ */
.card button{
    margin-top:6px;
    padding:6px 10px;
    font-size:0.9em;
    border:none;
    border-radius:8px;
    cursor:pointer;
}
.btn-edit{background:#ffaa00;color:#000;}
.btn-delete{background:#ff4444;color:#fff;}
.btn-add{background:#44ff44;color:#000;}
</style>
</head>
<body>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="login">
    <div class="login-box">
        <h2>â˜  ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
        <input id="username" placeholder="Ø§Ù„Ø§Ø³Ù…">
        <input id="password" type="password" placeholder="Ø§Ù„Ø±Ù…Ø²">
        <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
        <div id="error">Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø±Ù…Ø² Ø®Ø·Ø£</div>
    </div>
</div>

<!-- Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
<header id="header">
    <button onclick="toggleMenu()">â‰¡</button>
    <button onclick="toggleMusic()">ğŸ”‡</button>
</header>

<!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
<div id="menu">
    <button onclick="showSection('welcome')">â˜  Ø§Ù„ØªØ±Ø­ÙŠØ¨</button>
    <button onclick="showSection('laws')">â˜  Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</button>
    <button onclick="showSection('weapons')">â˜  Ø§Ù„Ø£Ø³Ù„Ø­Ø©</button>
    <button onclick="showSection('leaders')">â˜  Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ùˆ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</button>
    <button onclick="showSection('gangs')">â˜  Ø§Ù„Ø¹ØµØ§Ø¨Ø§Øª</button>
    <button onclick="showSection('house')">â˜  Ø§Ù„Ø¨ÙŠÙˆØª</button>
    <button onclick="showSection('house-gun')">â˜  houses guns</button>
    <button onclick="showSection('chat')">â˜  Ø¯Ø±Ø¯Ø´Ø©</button>
</div>

<!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
<div id="content">
<div class="cards" id="cardsContainer">
    <!-- Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
    <div class="card big welcome" data-type="welcome">
        <div class="welcome-title">
            â˜  Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ <span class="welcome-name" id="userDisplay">Ø¹Ø¶Ùˆ</span>
        </div>
        <div>
            ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ø±ÙˆØ³ÙŠØ©
        </div>
        <div class="welcome-motto">
            â˜  Ø§Ù„ÙˆÙ„Ø§Ø¡ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ù… â˜ <br>
            Ù…Ù† ÙŠØ®ÙˆÙ† ÙŠÙÙ…Ø­Ù‰â€¦ ÙˆÙ…Ù† ÙŠØ®Ù„Øµ ÙŠÙØ±ÙØ¹
        </div>
    </div>
</div>
</div>

<!-- Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ -->
<audio id="bgMusic" loop>
    <source src="mafia1.mp3" type="audio/mpeg">
</audio>

<script>
// --- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ---
const ACCOUNTS = [
    {user:"b", pass:"b", role:"admin"},
    {user:"Ø§ÙŠÙØ§Ù†", pass:"8989", role:"admin"},
    {user:"BA95", pass:"ba95", role:"member"},
    {user:"Ø¯ÙŠÙ…ØªØ±ÙŠ", pass:"more11", role:"member"},
    {user:"SAYO", pass:"Mister C 1", role:"member"}
];

let currentUser = null;

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„ÙƒÙ„ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
let data = {
    weapons:["AK-47","Deagle","C4","Glock 20"],
    leaders:["Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù…Ø§ÙÙŠØ§ Ù…Ø¬Ù‡ÙˆÙ„ Ø§Ù„Ù‡ÙˆÙŠØ©","Ù†Ø§Ø¦Ø¨ Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù…Ø§ÙÙŠØ§","Ø§ÙŠÙØ§Ù† Ù…Ø§ÙƒØ³ÙŠÙ… Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø³Ø¤ÙˆÙ„"],
    gangs:["Ø³ÙƒØ±Ø§Ø¨","Ù„Ø§ ÙŠÙˆØ¬Ø¯"],
    house:["Ø¨ÙŠØª 1","Ø¨ÙŠØª 2"],
    "house-gun":["Glock 18","M4A1"],
    chat:[]
};

// Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ù€ GitHub Pages (Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†)
function saveData(){
    localStorage.setItem("mafiaData", JSON.stringify(data));
}
function loadData(){
    const saved = localStorage.getItem("mafiaData");
    if(saved) data = JSON.parse(saved);
}

// --- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ---
function login(){
    const u = document.getElementById("username").value.trim();
    const p = document.getElementById("password").value.trim();
    const acc = ACCOUNTS.find(a=>a.user===u && a.pass===p);
    if(!acc){
        document.getElementById("error").style.display="block";
        return;
    }
    currentUser = acc;
    document.getElementById("userDisplay").innerText = acc.user;
    document.getElementById("login").style.opacity="0";
    setTimeout(()=>{
        document.getElementById("login").style.display="none";
        document.getElementById("content").style.display="block";
        document.getElementById("header").style.display="block";
        showSection('welcome');
        loadData();
    },600);
    document.getElementById("bgMusic").volume=0.4;
    document.getElementById("bgMusic").play();
}

// --- Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ---
function toggleMenu(){
    const menu = document.getElementById("menu");
    menu.style.display = menu.style.display==="block"?"none":"block";
}
function showSection(type){
    const container = document.getElementById("cardsContainer");
    container.innerHTML=""; // Ù…Ø³Ø­ Ø§Ù„Ù‚Ø¯ÙŠÙ…

    if(type==="welcome"){
        const div = document.createElement("div");
        div.className="card big welcome";
        div.innerHTML=`<div class="welcome-title">â˜  Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ <span class="welcome-name">${currentUser.user}</span></div>
        <div>ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ø±ÙˆØ³ÙŠØ©</div>
        <div class="welcome-motto">â˜  Ø§Ù„ÙˆÙ„Ø§Ø¡ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ù… â˜ <br>Ù…Ù† ÙŠØ®ÙˆÙ† ÙŠÙÙ…Ø­Ù‰â€¦ ÙˆÙ…Ù† ÙŠØ®Ù„Øµ ÙŠÙØ±ÙØ¹</div>`;
        container.appendChild(div);
    } else if(type==="chat"){
        showChat(container);
    } else {
        showList(container,type);
    }
    document.getElementById("menu").style.display="none";
}

// --- Ø¹Ø±Ø¶ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ---
function showList(container,type){
    if((type==="house" || type==="house-gun") && currentUser.role!=="admin") return;

    const list = data[type];
    const big = document.createElement("div");
    big.className="card big";
    big.textContent=`â˜  ${type}`;
    container.appendChild(big);

    if(currentUser.role==="admin"){
        const addBtn = document.createElement("button");
        addBtn.textContent="â• Ø¥Ø¶Ø§ÙØ©";
        addBtn.className="btn-add";
        addBtn.onclick=()=>addItem(type);
        big.appendChild(addBtn);
    }

    list.forEach((item,index)=>{
        const div = document.createElement("div");
        div.className="card";
        div.textContent=item;

        if(currentUser.role==="admin"){
            const editBtn = document.createElement("button");
            editBtn.textContent="âœï¸";
            editBtn.className="btn-edit";
            editBtn.onclick=()=>editItem(type,index);
            div.appendChild(editBtn);

            const delBtn = document.createElement("button");
            delBtn.textContent="ğŸ—‘ï¸";
            delBtn.className="btn-delete";
            delBtn.onclick=()=>deleteItem(type,index);
            div.appendChild(delBtn);
        }
        container.appendChild(div);
    });
}

// --- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ---
function addItem(type){
    const val = prompt("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯:");
    if(val){
        data[type].push(val);
        saveData();
        showSection(type);
        alert("ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© âœ…");
    }
}
function editItem(type,index){
    const val = prompt("ØªØ¹Ø¯ÙŠÙ„:", data[type][index]);
    if(val!==null){
        data[type][index]=val;
        saveData();
        showSection(type);
        alert("ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ âœ…");
    }
}
function deleteItem(type,index){
    if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø­Ø°ÙØŸ")){
        data[type].splice(index,1);
        saveData();
        showSection(type);
        alert("ØªÙ… Ø§Ù„Ø­Ø°Ù âœ…");
    }
}

// --- Ø¯Ø±Ø¯Ø´Ø© ---
function showChat(container){
    const big = document.createElement("div");
    big.className="card big";
    big.textContent="â˜  Ø¯Ø±Ø¯Ø´Ø©";
    container.appendChild(big);

    if(currentUser.role==="admin"){
        const addBtn = document.createElement("button");
        addBtn.textContent="â• Ù†Ø´Ø± Ø±Ø³Ø§Ù„Ø©";
        addBtn.className="btn-add";
        addBtn.onclick=()=>postMessage();
        big.appendChild(addBtn);
    }

    data.chat.forEach((msg,index)=>{
        const div = document.createElement("div");
        div.className="card";
        div.innerHTML=`<strong>${msg.user}</strong>: ${msg.text}`;
        if(currentUser.role==="admin" || msg.user===currentUser.user){
            const delBtn = document.createElement("button");
            delBtn.textContent="ğŸ—‘ï¸";
            delBtn.className="btn-delete";
            delBtn.onclick=()=>{
                if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ")){
                    data.chat.splice(index,1);
                    saveData();
                    showSection("chat");
                    alert("ØªÙ… Ø§Ù„Ø­Ø°Ù âœ…");
                }
            };
            div.appendChild(delBtn);
        }
        container.appendChild(div);
    });
}

// --- Ù†Ø´Ø± Ø±Ø³Ø§Ù„Ø© ---
function postMessage(){
    const text = prompt("Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ:");
    if(text){
        data.chat.push({user:currentUser.user,text});
        saveData();
        showSection("chat");
    }
}

// --- ÙƒØªÙ… Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ---
function toggleMusic(){
    const music = document.getElementById("bgMusic");
    music.muted = !music.muted;
}
</script>

</body>
</html>
